<main class="ecosystem">
  <section class="ecosystem__navigation">
    <article class="ecosystem__navigation_tabs">
      <button
        *ngFor="let sec of sections"
        class="ecosystem__tab-button"
        (click)="changeSection(sec)"
        [ngClass]="{
          'btn btn--tab_active': section === sec,
          'btn btn--tab_inactive': section !== sec
        }"
      >
        <span
          *ngIf="sec === 'Members'"
          [ngClass]="{ ecosystem__notification: isNotification }"
        ></span>
        {{ sec }}
      </button>
    </article>
  </section>

  <section class="ecosystem__appearance" *ngIf="section === 'Apperance'">
    <h1>Customize the appearance of your ecosystem</h1>
    <article class="ecosystem__appearance-customization">
      <div class="form_wrapper card_24">
        <h3>General Information</h3>
        <form class="form_wrapper-form">
          <label class="form_wrapper-form-field">
            <p class="bold">Ecosystem title</p>
            <input type="text" placeholder="Fill the title" />
          </label>
          <label class="form_wrapper-form-field">
            <p class="bold">Ecosystem slogan</p>
            <input type="text" placeholder="Fill in your slogan" />
          </label>
          <label class="form_wrapper-form-field">
            <p class="bold">Project description</p>
            <textarea
              class="ecosystem__textarea"
              cols="6"
              rows="12"
              placeholder="Please describe your ecosystem"
            ></textarea>
          </label>
        </form>

        <span class="ecosystem__info-block">
          <p class="bold">Version</p>
          <p class="ecosystem__info-value">0.3.5</p>
        </span>
        <span class="ecosystem__info-block">
          <p class="bold">Created</p>
          <p class="ecosystem__info-value">31 Aug 2023</p>
        </span>
      </div>
      <div class="settings">
        <div class="extras card_24">
          <h3>Further Settings</h3>
          <div class="extras_visibility">
            <p class="ecosystem__label">Public visibility</p>
            <xc-toggle />
          </div>
          <div class="extras__tags">
            <div class="extras__tags-injector">
              <span xcProfileTags="gray" class="ecosystem__tag">Education</span>
              <span xcProfileTags="gray" class="ecosystem__tag"
                >Social Media</span
              >
              <span xcProfileTags="gray" class="ecosystem__tag">AI</span>
              <span xcProfileTags="gray" class="ecosystem__tag">AI</span>
              <span xcProfileTags="gray" class="ecosystem__tag">Education</span>
              <span xcProfileTags="gray" class="ecosystem__tag"
                >Social Media</span
              >
              <span xcProfileTags="gray" class="ecosystem__tag">AI</span>
              <span xcProfileTags="gray" class="ecosystem__tag">Education</span>
              <span xcProfileTags="gray" class="ecosystem__tag">Education</span>
              <div>
                <button class="extras__tags-button" (click)="openTagsModal()">
                  <span class="see-all">
                    <xc-icon-arrow-right class="icon" />
                    <p class="bold">See all tags</p>
                  </span>
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="save">
          <button class="btn btn--filled">
            <xc-icon-save class="icon" />
            <p>Save changes</p>
          </button>
        </div>
      </div>
    </article>
  </section>

  <section class="ecosystem__legal" *ngIf="section === 'Legal'">
    <h1>Legal representation and conditions inside your ecosystem</h1>
    <article class="ecosystem__legal-customization">
      <div class="form_wrapper card_24">
        <h3>General Information</h3>
        <form class="form_wrapper-form">
          <label class="form_wrapper-form-field">
            <p class="bold">Your organization</p>
            <input type="text" placeholder="Fill with yout organization" />
          </label>
          <label class="form_wrapper-form-field">
            <p class="bold">Incorporation</p>
            <input type="text" placeholder="Fill in your incorporation" />
          </label>
          <label class="form_wrapper-form-field">
            <p class="bold">Country</p>
            <input type="text" placeholder="Fill in your country" />
          </label>
          <div class="address">
            <label class="form_wrapper-form-field-stretch">
              <p class="bold">Street</p>
              <input type="text" placeholder="Fill in with your street" />
            </label>
            <label class="form_wrapper-form-field">
              <p class="bold">Zip</p>
              <input type="text" placeholder="Fill in with your zip" />
            </label>
            <label class="form_wrapper-form-field">
              <p class="bold">Country</p>
              <input type="text" placeholder="Fill in with your country" />
            </label>
          </div>
          <label class="form_wrapper-form-field">
            <p class="bold">Legal representative(s)</p>
            <input
              type="text"
              placeholder="Fill in with your legal representatives"
            />
          </label>
          <label class="form_wrapper-form-field">
            <p class="bold">Registration number</p>
            <input type="text" />
          </label>
        </form>
      </div>
      <div class="terms card_24">
        <h3>Terms and conditions</h3>
        <label class="terms_field">
          <p class="bold">Project description</p>
          <textarea
            cols="6"
            rows="12"
            placeholder="Please describe your ecosystem"
          ></textarea>
        </label>
        <p class="disclaimer">
          These conditions apply additionally to the Terms and conditions of
          Xchange; in case of contractions, the Xchanges Terms and conditions
          are legally binding.
        </p>
      </div>
    </article>
    <div class="save_button">
      <button class="btn btn--filled">
        <xc-icon-save class="save_icon" />
        <p>Save changes</p>
      </button>
    </div>
  </section>

  <section class="ecosystem__credits" *ngIf="section === 'Credits'">
    <h1>Credits in your ecosystem</h1>
    <article class="ecosystem__credits-customization">
      <div class="video card_24">
        <h3>How credits work in the collaboration ecosystem</h3>
        <div class="video_container">
          <video
            class="video_container-frame"
            src="https://www.youtube.com/embed/wI00QO2A2j4"
            frameborder="0"
            allowfullscreen
            width="100%"
            height="100%"
          ></video>
        </div>
      </div>
      <div class="balance">
        <div class="balance_coin">
          <h3>Current credit balance</h3>
          <span class="balance_coin-amount">
            <h1>10,000</h1>
            <p>Xcoins</p>
          </span>
          <span class="balance_coin-actions">
            <button class="btn" (click)="openBuyCredits()">
              <b>Buy credits for the ecosystem</b>
            </button>
            <button class="btn" (click)="openSendCredits()">
              <b>Send credits to a project</b>
            </button>
          </span>
        </div>
        <div class="balance_history">
          <nav class="balance_history-header">
            <h3>Credit history</h3>
            <div class="wrapper">
              <label for="filter">Sort by:</label>
              <select id="filter" name="filter">
                <option value="">Select filter</option>
                <option value="date">Date</option>
                <option value="amount">Amount</option>
                <option value="status">Status</option>
              </select>
            </div>
          </nav>
          <div class="transaction">
            <table class="transaction_table">
              <tbody>
                <tr
                  *ngFor="let transaction of transactions"
                  class="transaction_table-row"
                >
                  <td class="transaction_table__info">
                    <div class="transaction_table__avatar">
                      <xc-rounded-image
                        [image]="transaction.image"
                        [marginSize]="2"
                        color="var(--xc-grey300)"
                      />
                    </div>
                    <p class="transaction_table__name">{{ transaction.name }}</p>
                  </td>
                  <td class="transaction_table__date">{{ transaction.date }}</td>
                  <td
                  class="transaction_table__amount"
                  [ngClass]="{
                    'transaction_table__amount--positive': transaction.amount > 0,
                    'transaction_table__amount--negative': transaction.amount < 0
                  }"
                >
                  {{ transaction.amount > 0 ? '+' + transaction.amount : transaction.amount }} Xcoins
                </td>
                
                </tr>
              </tbody>
            </table>
          </div>

          <div class="bookings">
            <button class="bookings_btn" (click)="openHistoryModal()">
              <span class="bookings_btn-wrapper">
                <xc-icon-arrow-right class="icon" />
                <p class="bold">See all bookings</p>
              </span>
            </button>
          </div>
        </div>
      </div>
    </article>
  </section>

  <section class="ecosystem__templates" *ngIf="section === 'Templates'">
    <h1>Manage your templates</h1>
  
    <article class="ecosystem__templates-wrapper">
      <div class="ecosystem__templates-wrapper-header">
        <b>Help us understand the focus of your ecosystem</b>
        <p>By selecting one or more focus points, we can provide you with the most suitable templates.</p>
      </div>
  
      <section class="ecosystem__templates-wrapper-focus">
        <div
          class="ecosystem__templates-wrapper-focus-column"
          *ngFor="let category of templateCategories"
        >
          <h3>{{ category.title }}</h3>
      
          <div class="ecosystem__templates-wrapper-select-all">
            <button class="button-select">select all</button>
          </div>
      
          <div class="ecosystem__templates-wrapper-list">
            <ul>
              <li *ngFor="let option of category.options">
                <label class="ecosystem__templates-wrapper-checkbox">
                  <input type="checkbox"/>
                  <span>{{ option.label }}</span>
                </label>
              </li>
            </ul>
          </div>
        </div>
      </section>
      <div class="action_buttons">
        <button class="btn" [disabled]="!isSelectionValid">
          <xc-icon-times class="btn__icon" />
          <p>Cancel</p>
        </button>
        <button class="btn btn--filled" [disabled]="!isSelectionValid">
          <xc-icon-save class="btn__icon_filled" />
          <p>Save changes</p>
        </button>
      </div>
    </article>
  </section>
  
  <article class="ecosystem__members-wrapper">
    <div class="members-grid">
      <div class="members-grid__top">
        <div class="members-grid__box">
          <b>Search for members</b>
          <label class="search_input">
            <input type="search" placeholder="Who are you looking for">
            <xc-icon-search class="icon"/>
          </label>
        </div>
        <div class="members-grid__box">
          <b>New user requests</b>
          <p class="no-requests">There are no active requests at the moment</p>
        </div>
      </div>
      <div class="members-grid__bottom">
        <div class="members-grid__box">
          <h3>Active members</h3>
          <section class="members-table">
            <table class="members-table__table">
              <thead>
                <tr>
                  <th>Email</th>
                  <th>First name</th>
                  <th>Last name</th>
                  <th>Actions</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let member of members">
                  <td>
                    <b>{{ member.email }}</b>
                  </td>
                  <td>{{ member.firstName }}</td>
                  <td>{{ member.lastName }}</td>
                  <td class="members-table__actions">
                    <button type="button" class="action-btn" (click)="openEditModal()">
                      <xc-icon-edit class="action-icon"/> 
                      <b>Edit</b>
                    </button>
                    <button type="button" class="action-btn" (click)="openEmailModal()">
                      <xc-icon-envelope class="action-icon"/> 
                      <b>Send email</b>
                    </button>
                    <button type="button" class="action-btn" (click)="openPasswordModal()">
                      <xc-icon-padlock class="action-icon"/> 
                      <b>Set new password</b>
                    </button>
                    <button type="button" class="action-btn" (click)="openSuspendModal()">
                      <xc-icon-ban class="action-icon"/> 
                      <b>Suspend</b>
                    </button>
                  </td>
                </tr>
              </tbody>
            </table>
          </section>
          
        </div>
      </div>
    </div>
  </article>
  
</main>

<section *ngIf="isTags" class="tags">
  <div class="tags_content">
    <article class="tags_content-card">
      <h1>All tags related to Fabian</h1>
      <div class="container">
        <span
          *ngFor="let tag of tags"
          xcProfileTags="gray"
          class="ecosystem__tag"
          >{{ tag }}</span
        >
      </div>
    </article>
    <button class="btn btn--rounded" (click)="closeTagsModal()">
      <xc-icon-close-s class="icon" />
    </button>
  </div>
</section>

<section *ngIf="isHistory" class="history">
  <div class="history_content">
    <article class="history_content-card">
      <nav class="filters">
        <h3>Credit history</h3>
        <div class="wrapper">
          <label for="filter">Sort by:</label>
          <select id="filter" name="filter">
            <option value="">Select</option>
            <option value="date">Date</option>
            <option value="amount">Amount</option>
            <option value="status">Status</option>
          </select>
        </div>
      </nav>
      <div class="history_content-card-table">
        <table class="transaction-table">
          <tbody>
            <tr *ngFor="let transaction of transactions" class="transaction-table__row">
              <td class="profile">
                <xc-rounded-image [image]="transaction.image" [marginSize]="2"
                color="var(--xc-grey300)"  />
                <p>{{ transaction.name }}</p>
              </td>
              
              <td>{{ transaction.date }}</td>
              
              <td class="destiny">
                <span class="destiny__icon">
                  <xc-icon-user class="icon" />
                </span>
                <p>{{ transaction.destination }}</p>
              </td>
              
              <td
                class="amount"
                [ngClass]="{
                  'amount--positive': transaction.amount > 0,
                  'amount--negative': transaction.amount < 0
                }"
              >
                {{ transaction.amount > 0 ? '+' + transaction.amount : transaction.amount }} Xcoins
              </td>
            </tr>
          </tbody>
        </table>
        
      </div>
    </article>
    <button class="btn btn--rounded" (click)="closeHistoryModal()">
      <xc-icon-close-s class="icon" />
    </button>
  </div>
</section>

<section *ngIf="isBuyCredits" class="buy_credits">
  <div class="buy_credits_content">
    <article class="buy_credits_content-card">
      <header class="send_credits-content-card-header">
        <img src="assets/img/Buy-Credits.png" alt="buy_credits-content-card-header-image">
      </header>
      <h3>Buy credits for the ecossytem</h3>
      <p>Buy credits for your ecosystem and send them to selected projects. The projects can use these credits to  pay the platform fee for collaborations.</p>
      <div class="custom-select">
        <b>Buy credits</b>
        <select class="dropdown">
          <option disabled selected>Select the amount</option>
        </select>
      </div>
      <div class="card-data">
        <label class="card-data_field--wide">
          <b>Your card number</b>
          <input type="number" placeholder="0000 0000 0000 0000" />
        </label>
        <label class="card-data_field">
          <b>Valid until</b>
          <input type="text" placeholder="MM/YY" />
        </label>
        <label class="card-data_field">
          <b>CVV</b>
          <input type="password" />
        </label>
      </div>
      <div class="balance">
        <span class="balance_current">
          <b>Current Balance</b>
          <p>66,677 xCoins</p>
        </span>
        <span class="balance_new">
          <b>New Balance</b>
          <p>66,677 xCoins</p>
        </span>
      </div>
      <div class="action_buttons">
        <button class="btn" (click)="closeBuyCredits()">
          <xc-icon-times class="btn__icon"/>
          <p>Cancel</p>
        </button>
        <button class="btn btn--filled">
          <xc-icon-shopping-cart class="btn__icon_filled"/>
          <p>Buy credits</p>
        </button>
      </div>
    </article>
  </div>
</section>

<section *ngIf="isSendCredits" class="send_credits">
  <div class="send_credits-content">
    <article class="send_credits-content-card">
      <header class="send_credits-content-card-header">
        <img src="assets/img/Send-credits.png" alt="send_credits-content-card-header-image">
      </header>
      <div class="custom-select">
        <b>Select a recipient</b>
        <select class="dropdown">
          <option disabled selected>Select a project</option>
        </select>
      </div>
      <div class="assign_credits">
        <b>Assign credits</b>
        <input type="number" placeholder="0">
      </div>
      <div>
        <b>Balance in the project</b>
        <p>0 xCoins</p>
      </div>
      <div class="action_buttons">
        <button class="btn" (click)="closeSendCredits()">
          <xc-icon-times class="btn__icon"/>
          <p>Cancel</p>
        </button>
        <button class="btn btn--filled">
          <xc-icon-shopping-cart class="btn__icon_filled"/>
          <p>Buy credits</p>
        </button>
      </div>
    </article>
  </div>
</section>

<section *ngIf="isBuyTenant" class="buy_tenant">
  <div class="buy_tenant_content">
    <article class="buy_tenant_content-card">
      <header class="send_tenant-content-card-header">
        <img src="assets/img/Buy-tenant.png" alt="buy_tenant-content-card-header-image">
      </header>
      <h3>Buy credits for tenant</h3>
      <p>You do not have the credits required to send this Objective to a collaborator.</p>
      <div class="custom-select">
        <b>Buy credits</b>
        <select class="dropdown">
          <option disabled selected>Select the amount</option>
        </select>
      </div>
      <label class="card-data_field">
        <b>Add yout email adress</b>
        <input type="email" placeholder="name@domain.com" />
      </label>
      <div class="card-data">
        <label class="card-data_field--wide">
          <b>Your card number</b>
          <input type="number" placeholder="0000 0000 0000 0000" />
        </label>
        <label class="card-data_field">
          <b>Valid until</b>
          <input type="text" placeholder="MM/YY" />
        </label>
        <label class="card-data_field">
          <b>CVV</b>
          <input type="password" />
        </label>
      </div>
      <div class="balance">
        <span class="balance_current">
          <b>Current Balance</b>
          <p>66,677 xCoins</p>
        </span>
        <span class="balance_new">
          <b>New Balance</b>
          <p>66,677 xCoins</p>
        </span>
      </div>
      <div class="action_buttons">
        <button class="btn" (click)="closeBuyTenant()">
          <xc-icon-times class="btn__icon"/>
          <p>Cancel</p>
        </button>
        <button class="btn btn--filled">
          <xc-icon-shopping-cart class="btn__icon_filled"/>
          <p>Buy credits</p>
        </button>
      </div>
    </article>
  </div>
</section>